<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IntroMie • Admin</title>
  <link rel="stylesheet" href="./css/style.css" />
</head>
<body class="light">
  <header class="topbar">
    <a class="brand" href="https://www.instagram.com/intromie.studio?igsh=cXU2dmo3aTBxZW5z&utm_source=qr" target="_blank" rel="noopener">
      <img src="./assets/logo-top.png" alt="intro mie." />
    </a>

    <div class="titleWrap">
      <div class="title">Admin</div>
      <div class="subtitle">เพิ่ม/แก้/ลบ การ์ด • ดาวน์โหลดฝั่งผู้ใช้เป็น PNG</div>
    </div>

    <div class="controls">
      <button id="logoutBtn" class="btn subtle" hidden>Logout</button>
    </div>
  </header>

  <main class="container">
    <!-- LOGIN -->
    <section id="loginBox" class="cardPanel">
      <div class="panelTitle">Login</div>
      <div class="panelRow">
        <input id="emailInput" class="input" type="email" placeholder="Email" autocomplete="email" />
        <input id="passInput" class="input" type="password" placeholder="Password" autocomplete="current-password" />
        <button id="loginBtn" class="btn">Login</button>
      </div>
      <div id="loginMsg" class="msg"></div>
      <div class="hint">
        ต้องเปิด Firebase Auth (Email/Password) และสร้าง user admin ไว้ก่อนนะ
      </div>
    </section>

    <!-- ADMIN -->
    <section id="adminBox" hidden>
      <section class="cardPanel">
        <div class="panelTitle">Add card (ทีละใบ)</div>

        <div class="grid2">
          <div>
            <label class="label">Category (หมวด)</label>
            <input id="catInput" class="input" placeholder="เช่น Birthday" />
          </div>
          <div>
            <label class="label">Side</label>
            <select id="sideInput" class="select">
              <option value="front">front</option>
              <option value="back">back</option>
            </select>
          </div>

          <div>
            <label class="label">Order (เลขลำดับ)</label>
            <input id="orderInput" class="input" type="number" step="1" placeholder="เช่น 10, 20, 30" />
          </div>
          <div>
            <label class="label">Image (PNG/JPG → จะถูกแปลงเป็น PNG)</label>
            <input id="fileInput" class="input file" type="file" accept="image/*" />
          </div>
        </div>

        <div class="panelRow right">
          <button id="addBtn" class="btn">Upload</button>
        </div>

        <div id="addMsg" class="msg"></div>
        <div class="hint">
          * ถ้าต้องการให้หน้าเว็บ “จับคู่หน้า-หลัง” ให้ตั้ง <b>category เดียวกัน</b> และ <b>order เท่ากัน</b> ระหว่าง front/back
        </div>
      </section>

      <section class="cardPanel">
        <div class="panelTitle">Manage cards</div>

        <div class="panelRow">
          <input id="filterInput" class="search" type="search" placeholder="ค้นหาในหลังบ้าน... (หมวด/side/order)" />
          <select id="filterCat" class="select">
            <option value="__all__">ทุกหมวด</option>
          </select>
        </div>

        <div id="listWrap" class="adminList"></div>
        <div id="listEmpty" class="emptyState" hidden>ยังไม่มีการ์ดในระบบ</div>
      </section>
    </section>
  </main>

  <script type="module" src="./js/admin.js"></script>
</body>
</html>
